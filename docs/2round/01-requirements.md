# 유저-시나리오

## 상품 목록
1. 사용자가 모든 상품에 대해서 볼수 있다.
2. 판매중인 상품에 대한 판매명, 판매금액, 판매브랜드, 이미지, 좋아요한 상품을 볼수있다.
3. 사용자는 원하는 브랜드별로 상품을 볼수 있다.
4. 사용자는 원하는 상품에대해서 좋아요를 누를수있다.
5. 사용자는 원하는 조건에 따라 상품을 볼수있다.
6. 사용자는 원하는 페이지로 이동할수있다.

-[기능]
1. 전체 상품 목록 조회
2. 브랜드 상품 목록 조회
3. 상품 좋아요 등록
4. 필터링 (최신순, 판매순, 좋아요 순, 남자/여자)
5. 페이징

-[제약]
1. 로그인은 X-USER-ID로 판단, 비회원일경우 "로그인 후 좋아요 가능합니다" 메시지 전달한다
2. 상품이 없을경우 404_NOTFOUND 제공한다.

---
## 상품 상세
1. 사용자는 원하는 판매중 상품(판매명,판매금액,판매브랜드,이미지,좋아요한 상품을 볼수있다.
   -[기능]
1. 사용자가 원하는 상품번호로 조회
2. 상품 좋아요 등록 / 취소
   -[제약]
1. 로그인은 X-USER-ID로 판단, 비회원일경우 "로그인 후 좋아요 가능합니다" 메시지 전달한다
2. 상품이 존재하지 않을 경우 404_NOTFOUND 제공한다.

---
## 좋아요
1. 사용자가 원하는 상품에 대해서 좋아요를 누를 수 있다.
2. 사용자가 원하는 상품에 대해서 좋아요를 취소 할 수 있다.
2. 사용자가 좋아하는 상품에 대해 목록을 볼수있다.
   -[기능]
1. 좋아요 누른 상품에대해 목록 조회
2. 사용가 원하는 상품에 대한 등록/취소, 단 등록/해제 (멱등성)
   -[제약]
1. 로그인은 X-USER-ID로 판단, 비회원일경우 "로그인 후 좋아요 가능합니다" 메시지 전달한다
2. 해당 상품에 좋아요를 처음 등록 할때는 201_Created 제공한다
3. 해당 상품에 좋아요를 한번더 등록 할때는 200_OK 제공한다
4. 해당 상품에 좋아요가 등록 된 상태에서 취소 할때는 204 No Content 제공한다
5. 해당 상품에 좋아요가 취소가 된 상태에서 한번더 취소 할때는 204 No Content 제공한다
---
## 브랜드
1. 사용자는 모든 브랜드의 상품을 볼수있다.
2. 사용자는 특정 브랜드에 대한 상품만 볼수있다.
3. 사용자는 특정 기준으로 상품을 볼수있다. (최신순, 판매순, 좋아요 순)
4. 사용자는 원하는 페이지로 이동할수있다.
   [기능]
1. 모든 브랜드 상품 조회
2. 특정 브랜드 상품 조회
3. 필터링 (최신순, 판매순, 좋아요 순, 남자/여자)
4. 페이징
   [제약]
1. 브랜드가 없을시 404_NOTFOUND를 제공한다
---
## 주문
1. 사용자가 상품 목록에서 원하는 상품을 선택하여 주문할 수 있다.
2. 한개의 주문은 여러 상품을 포함할 수 있다.
3. 사용자가 주문 내역을 조회해 어떤 상품을 주문했는지 확인할 수 있다.
4. 사용자는 결제 전이라면 주문을 취소할 수 있다.
5. 사용자는 주문 상세 화면에서 상품 정보, 수량, 결제 금액, 상태 등을 볼 수 있다.
   [기능]
1. 주문 생성
2. 주문 목록 조회
3. 주문 상세 조회
4. 주문 취소
5. 주문에 대한 상태관리
   [제약]
1. 주문 시 상품 재고 확인 및 부족 시 예외 발생
2. 포인트 잔액 부족 시 주문 불가
3. 동일한 주문 요청이 중복으로 들어와도 한 번만 처리
---
## 결제
1. 사용자는 주문한 상품에 대해 포인트로 결제할 수 있다.
2. 결제가 완료되면 주문 상태가 결제 완료로 변경된다.
3. 결제 중 문제가 발생하면 결제 실패로 처리되며 포인트와 재고는 복구된다.
4. 결제 완료 후에는 주문 취소가 불가능하다.
   [기능]
1. 결제요청
2. 결제 결과 반영
3. 결제 실패 처리
4. 결제 내역 조회
   [제약]
1. 동일 주문에 대해 중복 결제 요청 시 한 번만 처리
2. 포인트 차감실패 시 복구
3. 외부결제 시스템 결제 시스템 처리 실패시 예외처리

----
## Ubiquitous
| 한국어 | 영어 |
|--------|------|
| 사용자 | User |
| 포인트 | Point |
| 상품 | Product |
| 브랜드 | Brand |
| 좋아요 | Like |
| 주문 | Order |
| 재고 | Stock |
| 가격 | Price |
| 결제 | Payment |